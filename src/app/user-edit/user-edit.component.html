<div class="page page-users">

    <div class="buttons">
      <a [routerLink]="['/','users',user.username]" class="btn btn-default">뒤로</a>
      <span *ngIf="authService.isLoggedIn() && authService.getCurrentUser()._id == user._id"
        (click)="delete()" class="btn btn-default delete">삭제</span>
    </div>
  
    <form class="user-form form-horizontal" [formGroup]="form" (ngSubmit)="submit()" class="login-form form-horizontal" >
      <div class="contentBox">
        <h3 class="contentBoxTop">사용자 수정</h3>

        <fieldset>
          <div class="form-group" [ngClass]="{'has-error': formErrors.currentPassword}">
            <label for="currentPassword" class="col-sm-12 control-label">현재 비밀번호*</label>
            <div class="col-sm-9 col-sm-offset-3">
              <input class="form-control" type="password" formControlName="currentPassword" id="currentPassword">
              <span *ngIf="formErrors.currentPassword" class="help-block">{{formErrors.currentPassword}}</span>
            </div>
          </div>
          <hr/>

          <div class="form-group" [ngClass]="{'has-error': formErrors.username}">
            <label for="username" class="col-sm-3 control-label">사용자이름*</label>
            <div class="col-sm-9">
              <input class="form-control" type="text" formControlName="username" id="username">
              <span *ngIf="formErrors.username" class="help-block">{{formErrors.username}}</span>
            </div>
          </div>

          <div class="form-group">
            <label for="name" class="col-sm-3 control-label">이름</label>
            <div class="col-sm-9">
              <input class="form-control" type="text" formControlName="name" id="name">
            </div>
          </div>

          <div class="form-group" [ngClass]="{'has-error': formErrors.phone}">
            <label for="phone" class="col-sm-3 control-label">휴대폰*</label>
            <div class="col-sm-9">
              <input class="form-control" type="text" formControlName="phone" id="phone">
              <span *ngIf="formErrors.phone" class="help-block">{{formErrors.phone}}</span>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'has-error': formErrors.email}">
            <label for="email" class="col-sm-3 control-label">메일</label>
            <div class="col-sm-9">
              <input class="form-control" type="text" formControlName="email" id="email">
              <span *ngIf="formErrors.email" class="help-block">{{formErrors.email}}</span>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'has-error': formErrors.newPassword}">
            <label for="newPassword" class="col-sm-12 control-label">새 비밀번호</label>
            <div class="col-sm-9 col-sm-offset-3">
              <input class="form-control" type="password" formControlName="newPassword" id="newPassword">
              <span *ngIf="formErrors.newPassword" class="help-block">{{formErrors.newPassword}}</span>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'has-error': formErrors.confirmPassword}">
            <label for="confirmPassword" class="col-sm-12 control-label">비밀번호 확인</label>
            <div class="col-sm-9 col-sm-offset-3">
              <input class="form-control" type="password" formControlName="confirmPassword" id="confirmPassword">
              <span *ngIf="formErrors.confirmPassword" class="help-block">{{formErrors.confirmPassword}}</span>
            </div>
          </div>

          <p>
            *필수항목
          </p>
        </fieldset>

        <div *ngIf="errorResponse?.message" class="alert alert-danger">
          {{errorResponse?.message}}
        </div>
      </div>
      <div class="buttons">
        <button type="submit" class="btn btn-default">확인</button>
      </div>
    </form>
  
  </div>
  